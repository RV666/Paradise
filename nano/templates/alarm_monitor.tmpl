<!--
Title: Alarm Monitor Console (Main content)
Used In File(s): \code\modules\nano\modules\alarm_monitor.dm
 -->

{{for data.categories}}
	<h2 style="color: #e9c183;">{{:value.category}}</h2>
	{{for value.alarms :alarmValue:alarmIndex}}
		{{if alarmValue.origin_lost}}
			<b>{{:alarmValue.name}} <span class='notice'>Причина тревоги не найдена</span></b><br />
		{{else}}
			<b>{{:alarmValue.name}}</b><br />
		{{/if}}
		{{if alarmValue.has_cameras || alarmValue.lost_sources != ""}}
			<div class="item">
				{{if alarmValue.has_cameras}}
					<div class="itemContent" style="width: 100%;">
						{{for alarmValue.cameras :cameraValue:cameraIndex}}
							{{if cameraValue.deact}}
								{{:helper.link(cameraValue.name + " (деактивирована)", '', {}, 'inactive')}}
							{{else}}
								{{:helper.link(cameraValue.name, '', {'switchTo' : cameraValue.camera})}}
							{{/if}}
						{{/for}}
					</div>
				{{else}}
					Камеры не найдены.
				{{/if}}
				{{if alarmValue.lost_sources != ""}}
					<div class="itemContent" style="width: 100%;">
							<H4><span class='notice'>Источники потерянных тревог: {{:alarmValue.lost_sources}}</span></H4>
					</div>
				{{/if}}
			</div>
		{{/if}}
	{{empty}}
		<span class="white">--Все системы в порядке</span>
	{{/for}}
{{/for}}
